# MoneyJars å¼€å‘è·¯çº¿å›¾ä¸å¾…åŠæ¸…å•

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯
- **é¡¹ç›®**: MoneyJars - æ™ºèƒ½è®°è´¦åº”ç”¨
- **å½“å‰ç‰ˆæœ¬**: v1.0.0+1
- **æ–‡æ¡£ç‰ˆæœ¬**: TODO v1.0
- **åˆ›å»ºæ—¥æœŸ**: 2025å¹´1æœˆ14æ—¥
- **çŠ¶æ€**: ç­‰å¾…æ–°å¼€å‘è€…æ¥æ‰‹

---

## ğŸ¯ é¡¹ç›®ç°çŠ¶æ€»è§ˆ

### âœ… å·²å®Œæˆ (Core MVP)
- ä¸‰ç½å¤´ä¸»ç•Œé¢è®¾è®¡å’Œäº¤äº’
- æ‹–æ‹½å¼åˆ†ç±»è®°å½•åŠŸèƒ½
- ä¸¤çº§åˆ†ç±»ç³»ç»Ÿ
- 3Dè§†è§‰æ•ˆæœå’ŒåŠ¨ç”»
- æœ¬åœ°æ•°æ®å­˜å‚¨ (SQLite/IndexedDB)
- Webç«¯éƒ¨ç½² (GitHub Pages)
- åŸºç¡€ç½å¤´è¯¦æƒ…é¡µé¢

### ğŸ”„ è¿›è¡Œä¸­ (å½“å‰è¿­ä»£)
- å®Œå–„æ–‡æ¡£å’ŒPRD
- ä»£ç æ³¨é‡Šå’Œç»“æ„ä¼˜åŒ–
- é¡¹ç›®ç§»äº¤å‡†å¤‡

### ğŸ“‹ å¾…å¼€å‘ (å¼€å‘è·¯çº¿å›¾)
ä»¥ä¸‹æ˜¯æŒ‰ä¼˜å…ˆçº§æ’åºçš„å¼€å‘ä»»åŠ¡æ¸…å•

---

## ğŸš€ P0 é«˜ä¼˜å…ˆçº§ä»»åŠ¡ (å»ºè®®1-2ä¸ªæœˆå®Œæˆ)

### 1. ç½å¤´è¯¦æƒ…é¡µé¢åŠŸèƒ½å¢å¼º 
**ğŸ“ ä½ç½®**: `lib/screens/jar_detail_page.dart`  
**â±ï¸ é¢„ä¼°**: 2-3å‘¨  
**ğŸ‘¨â€ğŸ’» éš¾åº¦**: ä¸­ç­‰

#### å½“å‰çŠ¶æ€
```dart
// å·²å®ç°åŸºç¡€ç‰ˆæœ¬ï¼ŒåŒ…å«ï¼š
- é‡‘é¢å¡ç‰‡æ˜¾ç¤º
- åŸºç¡€åˆ†ç±»ç»Ÿè®¡
- ç®€å•çš„åˆ—è¡¨å±•ç¤º
```

#### å¾…å®ç°åŠŸèƒ½
- [ ] **å®Œæ•´äº¤æ˜“è®°å½•åˆ—è¡¨**
  - æ˜¾ç¤ºæ‰€æœ‰æ”¶å…¥/æ”¯å‡ºæ˜ç»†
  - æŒ‰æ—¶é—´å€’åºæ’åˆ—
  - æ”¯æŒåˆ†é¡µåŠ è½½ (æ¯é¡µ20-50æ¡)
  - åˆ—è¡¨é¡¹åŒ…å«ï¼šé‡‘é¢ã€æè¿°ã€åˆ†ç±»ã€æ—¶é—´

- [ ] **é«˜çº§ç­›é€‰åŠŸèƒ½**
  - æ—¶é—´èŒƒå›´ç­›é€‰ (ä»Šå¤©/æœ¬å‘¨/æœ¬æœˆ/è‡ªå®šä¹‰)
  - åˆ†ç±»ç­›é€‰ (å•é€‰/å¤šé€‰)
  - é‡‘é¢èŒƒå›´ç­›é€‰
  - ç­›é€‰æ¡ä»¶ç»„åˆ

- [ ] **æœç´¢åŠŸèƒ½**
  - æŒ‰æè¿°å…³é”®è¯æœç´¢
  - æŒ‰é‡‘é¢ç²¾ç¡®æœç´¢
  - æœç´¢å†å²è®°å½•
  - æ™ºèƒ½æœç´¢å»ºè®®

- [ ] **è®°å½•ç®¡ç†æ“ä½œ**
  - ç¼–è¾‘å·²æœ‰è®°å½•
  - åˆ é™¤è®°å½• (å«ç¡®è®¤å¼¹çª—)
  - æ‰¹é‡åˆ é™¤
  - è®°å½•è¯¦æƒ…æŸ¥çœ‹

- [ ] **æ•°æ®å¯¼å‡ºåŠŸèƒ½**
  - CSVæ ¼å¼å¯¼å‡º
  - Excelæ ¼å¼å¯¼å‡º
  - PDFæŠ¥å‘Šç”Ÿæˆ
  - è‡ªå®šä¹‰å¯¼å‡ºèŒƒå›´

#### æŠ€æœ¯å®ç°å»ºè®®
```dart
// æ–°å¢ç»„ä»¶ç»“æ„å»ºè®®
lib/screens/jar_detail_page.dart
â”œâ”€â”€ TransactionListWidget           // äº¤æ˜“åˆ—è¡¨ç»„ä»¶
â”œâ”€â”€ FilterChipsWidget              // ç­›é€‰æ ‡ç­¾
â”œâ”€â”€ SearchBarWidget                // æœç´¢æ¡†
â”œâ”€â”€ DateRangePickerWidget          // æ—¥æœŸé€‰æ‹©å™¨
â”œâ”€â”€ TransactionEditDialog          // ç¼–è¾‘å¯¹è¯æ¡†
â””â”€â”€ ExportOptionsBottomSheet       // å¯¼å‡ºé€‰é¡¹

// æ–°å¢çŠ¶æ€ç®¡ç†
class JarDetailProvider extends ChangeNotifier {
  List<TransactionRecord> _filteredTransactions = [];
  DateRange? _dateRange;
  String _searchQuery = '';
  Set<String> _selectedCategories = {};
  
  // æ ¸å¿ƒæ–¹æ³•
  void filterByDateRange(DateRange range);
  void filterByCategory(Set<String> categories);
  void searchTransactions(String query);
  void exportToCSV();
  void editTransaction(TransactionRecord record);
}
```

#### ä¾èµ–åŒ…éœ€æ±‚
```yaml
# éœ€è¦æ·»åŠ çš„ä¾èµ–
dependencies:
  file_picker: ^6.1.1              # æ–‡ä»¶é€‰æ‹©
  csv: ^5.0.2                      # CSVå¯¼å‡º
  excel: ^2.1.0                    # Excelå¯¼å‡º
  pdf: ^3.10.4                     # PDFç”Ÿæˆ
  flutter_chips_input: ^2.0.0      # ç­›é€‰æ ‡ç­¾
  infinite_scroll_pagination: ^4.0.0 # åˆ†é¡µåŠ è½½
```

---

### 2. é«˜çº§æ•°æ®ç»Ÿè®¡å›¾è¡¨
**ğŸ“ ä½ç½®**: `lib/widgets/analytics/` (æ–°å»ºç›®å½•)  
**â±ï¸ é¢„ä¼°**: 2-3å‘¨  
**ğŸ‘¨â€ğŸ’» éš¾åº¦**: ä¸­é«˜

#### åŠŸèƒ½æè¿°
æä¾›ä¸°å¯Œçš„æ•°æ®å¯è§†åŒ–åˆ†æï¼Œå¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°ç†è§£è´¢åŠ¡çŠ¶å†µã€‚

#### å¾…å®ç°åŠŸèƒ½
- [ ] **è¶‹åŠ¿åˆ†æå›¾è¡¨**
  - æ”¶å…¥æ”¯å‡ºè¶‹åŠ¿çº¿å›¾ (æ—¥/å‘¨/æœˆ)
  - å‡€æ”¶å…¥å˜åŒ–è¶‹åŠ¿
  - åŒæ¯”/ç¯æ¯”åˆ†æ
  - å¤šæ—¶é—´æ®µå¯¹æ¯”

- [ ] **åˆ†ç±»åˆ†æ**
  - æ”¯å‡ºåˆ†ç±»é¥¼å›¾ (å¢å¼ºç‰ˆ)
  - åˆ†ç±»æ’è¡Œæ¦œ
  - åˆ†ç±»è¶‹åŠ¿å˜åŒ–
  - é¢„ç®—æ‰§è¡Œæƒ…å†µ

- [ ] **æ™ºèƒ½æŠ¥å‘Š**
  - æœˆåº¦è´¢åŠ¡æŠ¥å‘Š
  - æ”¯å‡ºå¼‚å¸¸æ£€æµ‹
  - ç†è´¢å»ºè®®ç”Ÿæˆ
  - ç›®æ ‡å®Œæˆåº¦åˆ†æ

- [ ] **äº¤äº’å¼å›¾è¡¨**
  - å›¾è¡¨ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…
  - æ—¶é—´èŒƒå›´æ‹–æ‹½é€‰æ‹©
  - å›¾ä¾‹äº¤äº’å¼ç­›é€‰
  - å›¾è¡¨å¯¼å‡ºåŠŸèƒ½

#### æŠ€æœ¯å®ç°
```dart
// æ–°å¢ç»„ä»¶æ¶æ„
lib/widgets/analytics/
â”œâ”€â”€ trend_chart_widget.dart         // è¶‹åŠ¿å›¾è¡¨
â”œâ”€â”€ category_analysis_widget.dart   // åˆ†ç±»åˆ†æ
â”œâ”€â”€ monthly_report_widget.dart      // æœˆåº¦æŠ¥å‘Š
â”œâ”€â”€ budget_progress_widget.dart     // é¢„ç®—è¿›åº¦
â””â”€â”€ chart_export_service.dart       // å›¾è¡¨å¯¼å‡º

// æ•°æ®å¤„ç†æœåŠ¡
lib/services/analytics_service.dart
class AnalyticsService {
  // è¶‹åŠ¿æ•°æ®è®¡ç®—
  List<TrendData> calculateTrend(DateRange range);
  
  // åˆ†ç±»ç»Ÿè®¡
  Map<String, CategoryAnalysis> analyzeByCateogry();
  
  // å¼‚å¸¸æ£€æµ‹
  List<AnomalyDetection> detectAnomalies();
  
  // æŠ¥å‘Šç”Ÿæˆ
  MonthlyReport generateMonthlyReport(DateTime month);
}
```

#### ä¾èµ–åŒ…éœ€æ±‚
```yaml
dependencies:
  fl_chart: ^0.65.0                # å›¾è¡¨åº“ (å·²æœ‰)
  syncfusion_flutter_charts: ^24.1.41 # é«˜çº§å›¾è¡¨
  charts_flutter: ^0.12.0         # Googleå›¾è¡¨
  flutter_echarts: ^1.0.8         # EChartså›¾è¡¨
```

---

### 3. é«˜çº§åˆ†ç±»ç®¡ç†ç³»ç»Ÿ
**ğŸ“ ä½ç½®**: `lib/screens/category_management_page.dart` (æ–°å»º)  
**â±ï¸ é¢„ä¼°**: 1-2å‘¨  
**ğŸ‘¨â€ğŸ’» éš¾åº¦**: ä¸­ç­‰

#### å½“å‰é™åˆ¶
```dart
// å½“å‰åˆ†ç±»ç³»ç»Ÿåªæ”¯æŒï¼š
- é¢„å®šä¹‰åˆ†ç±»ä½¿ç”¨
- ç®€å•çš„æ–°åˆ†ç±»åˆ›å»º
- åŸºæœ¬çš„é¢œè‰²å’Œå›¾æ ‡é€‰æ‹©
```

#### å¾…å®ç°åŠŸèƒ½
- [ ] **åˆ†ç±»CRUDæ“ä½œ**
  - åˆ›å»ºè‡ªå®šä¹‰åˆ†ç±»å’Œå­åˆ†ç±»
  - ç¼–è¾‘åˆ†ç±» (åç§°/é¢œè‰²/å›¾æ ‡)
  - åˆ é™¤åˆ†ç±» (å«æ•°æ®è¿ç§»å¤„ç†)
  - åˆ†ç±»å¯ç”¨/ç¦ç”¨

- [ ] **åˆ†ç±»ç»„ç»‡ç®¡ç†**
  - æ‹–æ‹½æ’åºåˆ†ç±»é¡ºåº
  - åˆ†ç±»å±‚çº§ç®¡ç†
  - åˆ†ç±»åˆå¹¶åŠŸèƒ½
  - æ‰¹é‡æ“ä½œ

- [ ] **æ™ºèƒ½åˆ†ç±»åŠŸèƒ½**
  - åŸºäºæè¿°çš„æ™ºèƒ½åˆ†ç±»å»ºè®®
  - å¸¸ç”¨åˆ†ç±»å¿«é€Ÿé€‰æ‹©
  - åˆ†ç±»ä½¿ç”¨é¢‘ç‡ç»Ÿè®¡
  - ç›¸ä¼¼äº¤æ˜“çš„åˆ†ç±»æ¨è

- [ ] **åˆ†ç±»æ¨¡æ¿**
  - é¢„è®¾åˆ†ç±»æ¨¡æ¿
  - å¯¼å…¥/å¯¼å‡ºåˆ†ç±»é…ç½®
  - æ¨¡æ¿åˆ†äº«åŠŸèƒ½
  - è¡Œä¸šä¸“ç”¨åˆ†ç±»æ¨¡æ¿

#### æŠ€æœ¯å®ç°
```dart
// æ–°å¢é¡µé¢å’Œç»„ä»¶
lib/screens/category_management_page.dart
lib/widgets/category/
â”œâ”€â”€ category_list_widget.dart       // åˆ†ç±»åˆ—è¡¨
â”œâ”€â”€ category_edit_dialog.dart       // ç¼–è¾‘å¯¹è¯æ¡†
â”œâ”€â”€ category_icon_picker.dart       // å›¾æ ‡é€‰æ‹©å™¨
â”œâ”€â”€ category_color_picker.dart      // é¢œè‰²é€‰æ‹©å™¨
â””â”€â”€ category_template_widget.dart   // æ¨¡æ¿é€‰æ‹©

// æ‰©å±•æ•°æ®æ¨¡å‹
class CategoryManager {
  // åˆ†ç±»CRUD
  Future<void> createCategory(Category category);
  Future<void> updateCategory(String id, Category category);
  Future<void> deleteCategory(String id, {String? migrateToId});
  
  // æ™ºèƒ½åŠŸèƒ½
  List<Category> suggestCategories(String description);
  Map<String, int> getCategoryUsageStats();
  
  // æ¨¡æ¿ç®¡ç†
  List<CategoryTemplate> getTemplates();
  void applyTemplate(CategoryTemplate template);
}
```

---

## ğŸ“ˆ P1 ä¸­ä¼˜å…ˆçº§ä»»åŠ¡ (å»ºè®®2-4ä¸ªæœˆå®Œæˆ)

### 4. äº‘ç«¯æ•°æ®åŒæ­¥æœåŠ¡
**ğŸ“ ä½ç½®**: `lib/services/sync_service.dart` (æ–°å»º)  
**â±ï¸ é¢„ä¼°**: 4-6å‘¨  
**ğŸ‘¨â€ğŸ’» éš¾åº¦**: é«˜

#### åŠŸèƒ½æè¿°
å®ç°è·¨è®¾å¤‡æ•°æ®åŒæ­¥ï¼Œæå‡ç”¨æˆ·ä½“éªŒå’Œæ•°æ®å®‰å…¨æ€§ã€‚

#### æŠ€æœ¯é€‰å‹å»ºè®®
```yaml
# Firebaseæ–¹æ¡ˆ (æ¨è)
dependencies:
  firebase_core: ^2.24.2
  firebase_auth: ^4.15.3
  cloud_firestore: ^4.13.6
  firebase_storage: ^11.6.0

# æˆ– Supabaseæ–¹æ¡ˆ (å¼€æºæ›¿ä»£)
dependencies:
  supabase_flutter: ^2.0.0
```

#### å¾…å®ç°åŠŸèƒ½
- [ ] **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**
  - é‚®ç®±/å¯†ç æ³¨å†Œç™»å½•
  - Google/Appleç¤¾äº¤ç™»å½•
  - åŒ¿åç”¨æˆ·å‡çº§
  - å¯†ç é‡ç½®åŠŸèƒ½

- [ ] **æ•°æ®åŒæ­¥æœºåˆ¶**
  - å®æ—¶æ•°æ®åŒæ­¥
  - å†²çªè§£å†³ç­–ç•¥
  - ç¦»çº¿æ•°æ®ç¼“å­˜
  - å¢é‡åŒæ­¥ä¼˜åŒ–

- [ ] **å¤šè®¾å¤‡æ”¯æŒ**
  - è®¾å¤‡ç®¡ç†
  - æ•°æ®ç‰ˆæœ¬æ§åˆ¶
  - åŒæ­¥çŠ¶æ€æŒ‡ç¤º
  - æ•°æ®ä¸€è‡´æ€§ä¿è¯

- [ ] **æ•°æ®å¤‡ä»½æ¢å¤**
  - è‡ªåŠ¨äº‘ç«¯å¤‡ä»½
  - æ‰‹åŠ¨å¤‡ä»½è§¦å‘
  - æ•°æ®æ¢å¤åŠŸèƒ½
  - å¤‡ä»½å†å²ç®¡ç†

#### å®ç°æ¶æ„
```dart
// åŒæ­¥æœåŠ¡æ¶æ„
lib/services/sync/
â”œâ”€â”€ sync_service.dart              // åŒæ­¥æœåŠ¡ä¸»ç±»
â”œâ”€â”€ auth_service.dart              // è®¤è¯æœåŠ¡
â”œâ”€â”€ firestore_service.dart         // Firestoreæ“ä½œ
â”œâ”€â”€ conflict_resolver.dart         // å†²çªè§£å†³
â””â”€â”€ offline_queue.dart             // ç¦»çº¿é˜Ÿåˆ—

class SyncService {
  // è®¤è¯ç›¸å…³
  Future<User?> signIn(String email, String password);
  Future<void> signOut();
  
  // æ•°æ®åŒæ­¥
  Future<void> syncAll();
  Future<void> uploadLocalChanges();
  Future<void> downloadRemoteChanges();
  
  // å†²çªå¤„ç†
  Future<void> resolveConflicts(List<ConflictRecord> conflicts);
}
```

#### çŠ¶æ€ç®¡ç†æ‰©å±•
```dart
// æ‰©å±•Providerä»¥æ”¯æŒåŒæ­¥
class TransactionProvider extends ChangeNotifier {
  final SyncService _syncService;
  bool _isSyncing = false;
  SyncStatus _syncStatus = SyncStatus.offline;
  
  // åŒæ­¥ç›¸å…³æ–¹æ³•
  Future<void> syncToCloud();
  void enableAutoSync();
  void handleConflict(ConflictRecord conflict);
}
```

---

### 5. é«˜çº§è®¾ç½®å’Œä¸ªæ€§åŒ–
**ğŸ“ ä½ç½®**: `lib/screens/settings_page.dart` (æ–°å»º)  
**â±ï¸ é¢„ä¼°**: 2-3å‘¨  
**ğŸ‘¨â€ğŸ’» éš¾åº¦**: ä¸­ç­‰

#### å¾…å®ç°åŠŸèƒ½
- [ ] **ä¸»é¢˜ç³»ç»Ÿ**
  - å¤šç§é…è‰²ä¸»é¢˜
  - æ·±è‰²/æµ…è‰²æ¨¡å¼
  - è‡ªå®šä¹‰ä¸»é¢˜é…è‰²
  - ä¸»é¢˜é¢„è§ˆåŠŸèƒ½

- [ ] **å›½é™…åŒ–æ”¯æŒ**
  - å¤šè¯­è¨€åˆ‡æ¢ (ä¸­/è‹±/æ—¥ç­‰)
  - æ•°å­—æ ¼å¼æœ¬åœ°åŒ–
  - æ—¥æœŸæ ¼å¼é€‚é…
  - å³åˆ°å·¦è¯­è¨€æ”¯æŒ

- [ ] **è´§å¸è®¾ç½®**
  - å¤šè´§å¸æ”¯æŒ
  - æ±‡ç‡è‡ªåŠ¨æ›´æ–°
  - é»˜è®¤è´§å¸è®¾ç½®
  - è´§å¸ç¬¦å·æ˜¾ç¤º

- [ ] **é€šçŸ¥æé†’**
  - è®°è´¦æé†’è®¾ç½®
  - é¢„ç®—è¶…æ”¯è­¦å‘Š
  - ç›®æ ‡è¾¾æˆé€šçŸ¥
  - å®šæœŸæŠ¥å‘Šæ¨é€

#### æŠ€æœ¯å®ç°
```dart
// æ–°å¢è®¾ç½®ç›¸å…³ç»„ä»¶
lib/screens/settings/
â”œâ”€â”€ settings_page.dart             // è®¾ç½®ä¸»é¡µ
â”œâ”€â”€ theme_settings_page.dart       // ä¸»é¢˜è®¾ç½®
â”œâ”€â”€ currency_settings_page.dart    // è´§å¸è®¾ç½®
â”œâ”€â”€ notification_settings_page.dart // é€šçŸ¥è®¾ç½®
â””â”€â”€ language_settings_page.dart    // è¯­è¨€è®¾ç½®

// è®¾ç½®æœåŠ¡
lib/services/settings_service.dart
class SettingsService {
  // ä¸»é¢˜ç®¡ç†
  Future<void> setTheme(AppTheme theme);
  AppTheme getCurrentTheme();
  
  // è¯­è¨€ç®¡ç†
  Future<void> setLocale(Locale locale);
  Locale getCurrentLocale();
  
  // è´§å¸ç®¡ç†
  Future<void> setCurrency(Currency currency);
  Future<double> getExchangeRate(String from, String to);
}
```

#### ä¾èµ–åŒ…éœ€æ±‚
```yaml
dependencies:
  flutter_localizations:
    sdk: flutter
  intl: ^0.18.1                    # å›½é™…åŒ–
  shared_preferences: ^2.2.2       # è®¾ç½®å­˜å‚¨ (å·²æœ‰)
  flutter_local_notifications: ^16.3.0 # æœ¬åœ°é€šçŸ¥
  timezone: ^0.9.2                 # æ—¶åŒºå¤„ç†
  currency_picker: ^2.0.16         # è´§å¸é€‰æ‹©å™¨
```

---

### 6. æ•°æ®å¯¼å…¥å¯¼å‡ºç³»ç»Ÿ
**ğŸ“ ä½ç½®**: `lib/services/import_export_service.dart` (æ–°å»º)  
**â±ï¸ é¢„ä¼°**: 2-3å‘¨  
**ğŸ‘¨â€ğŸ’» éš¾åº¦**: ä¸­é«˜

#### å¾…å®ç°åŠŸèƒ½
- [ ] **æ•°æ®å¯¼å…¥**
  - CSVæ–‡ä»¶å¯¼å…¥
  - Excelæ–‡ä»¶å¯¼å…¥
  - å…¶ä»–è®°è´¦åº”ç”¨æ•°æ®è¿ç§»
  - é“¶è¡Œè´¦å•å¯¼å…¥

- [ ] **æ•°æ®å¯¼å‡º**
  - å¤šæ ¼å¼å¯¼å‡º (CSV/Excel/PDF)
  - è‡ªå®šä¹‰å¯¼å‡ºèŒƒå›´
  - å›¾è¡¨å¯¼å‡º
  - æŠ¥å‘Šç”Ÿæˆ

- [ ] **æ•°æ®éªŒè¯**
  - å¯¼å…¥æ•°æ®å®Œæ•´æ€§æ£€æŸ¥
  - é‡å¤æ•°æ®æ£€æµ‹
  - æ ¼å¼é”™è¯¯æç¤º
  - æ•°æ®æ¸…ç†å»ºè®®

- [ ] **æ‰¹é‡æ“ä½œ**
  - æ‰¹é‡ç¼–è¾‘è®°å½•
  - æ‰¹é‡åˆ†ç±»é‡æ–°å½’æ¡£
  - æ‰¹é‡åˆ é™¤
  - æ‰¹é‡å¯¼å…¥é¢„è§ˆ

#### æŠ€æœ¯å®ç°
```dart
// å¯¼å…¥å¯¼å‡ºæœåŠ¡
lib/services/import_export/
â”œâ”€â”€ import_export_service.dart     // ä¸»æœåŠ¡
â”œâ”€â”€ csv_processor.dart             // CSVå¤„ç†
â”œâ”€â”€ excel_processor.dart           // Excelå¤„ç†
â”œâ”€â”€ data_validator.dart            // æ•°æ®éªŒè¯
â””â”€â”€ format_converter.dart          // æ ¼å¼è½¬æ¢

class ImportExportService {
  // å¯¼å…¥åŠŸèƒ½
  Future<ImportResult> importFromCSV(File file);
  Future<ImportResult> importFromExcel(File file);
  Future<List<ValidationError>> validateImportData(List<Map> data);
  
  // å¯¼å‡ºåŠŸèƒ½
  Future<File> exportToCSV(ExportConfig config);
  Future<File> exportToExcel(ExportConfig config);
  Future<File> generatePDFReport(ReportConfig config);
}
```

---

## ğŸ”® P2 ä½ä¼˜å…ˆçº§ä»»åŠ¡ (å»ºè®®4-6ä¸ªæœˆå®Œæˆ)

### 7. AIæ™ºèƒ½åŠŸèƒ½
**ğŸ“ ä½ç½®**: `lib/services/ai_service.dart` (æ–°å»º)  
**â±ï¸ é¢„ä¼°**: 6-8å‘¨  
**ğŸ‘¨â€ğŸ’» éš¾åº¦**: å¾ˆé«˜

#### å¾…å®ç°åŠŸèƒ½
- [ ] **æ™ºèƒ½åˆ†ç±»**
  - OCRå‘ç¥¨è¯†åˆ«
  - è‡ªç„¶è¯­è¨€æè¿°åˆ†æ
  - æœºå™¨å­¦ä¹ åˆ†ç±»æ¨¡å‹
  - ç”¨æˆ·è¡Œä¸ºå­¦ä¹ 

- [ ] **æ”¯å‡ºé¢„æµ‹**
  - åŸºäºå†å²æ•°æ®çš„æ”¯å‡ºé¢„æµ‹
  - å­£èŠ‚æ€§æ”¯å‡ºåˆ†æ
  - å¼‚å¸¸æ”¯å‡ºæ£€æµ‹
  - é¢„ç®—å»ºè®®ç”Ÿæˆ

- [ ] **ç†è´¢å»ºè®®**
  - ä¸ªæ€§åŒ–ç†è´¢å»ºè®®
  - æ”¯å‡ºä¼˜åŒ–å»ºè®®
  - å‚¨è“„ç›®æ ‡æ¨è
  - æŠ•èµ„å»ºè®® (åŸºç¡€)

#### æŠ€æœ¯é€‰å‹
```yaml
dependencies:
  google_ml_kit: ^0.16.3           # Google ML Kit
  tflite_flutter: ^0.10.4          # TensorFlow Lite
  camera: ^0.10.5                  # ç›¸æœºåŠŸèƒ½
  image_picker: ^1.0.4             # å›¾ç‰‡é€‰æ‹©
  http: ^1.1.0                     # APIè°ƒç”¨
```

---

### 8. ç¤¾äº¤åˆ†äº«åŠŸèƒ½
**ğŸ“ ä½ç½®**: `lib/features/social/` (æ–°å»ºç›®å½•)  
**â±ï¸ é¢„ä¼°**: 3-4å‘¨  
**ğŸ‘¨â€ğŸ’» éš¾åº¦**: ä¸­ç­‰

#### å¾…å®ç°åŠŸèƒ½
- [ ] **æ•°æ®åˆ†äº«**
  - ç”Ÿæˆå¯åˆ†äº«çš„ç»Ÿè®¡å›¾è¡¨
  - æˆå°±åˆ†äº« (ç›®æ ‡è¾¾æˆç­‰)
  - æœˆåº¦æŠ¥å‘Šåˆ†äº«
  - è‡ªå®šä¹‰åˆ†äº«æ¨¡æ¿

- [ ] **å®¶åº­è´¦æœ¬**
  - å¤šç”¨æˆ·åä½œè®°è´¦
  - æƒé™ç®¡ç†
  - å…±äº«é¢„ç®—
  - æ”¯å‡ºå®¡æ‰¹æµç¨‹

- [ ] **ç¤¾åŒºåŠŸèƒ½**
  - è®°è´¦æŒ‘æˆ˜æ´»åŠ¨
  - ç»éªŒåˆ†äº«
  - æ¨¡æ¿åˆ†äº«
  - æ’è¡Œæ¦œåŠŸèƒ½

---

### 9. æ‰©å±•æ’ä»¶ç³»ç»Ÿ
**ğŸ“ ä½ç½®**: `lib/plugins/` (æ–°å»ºç›®å½•)  
**â±ï¸ é¢„ä¼°**: 4-6å‘¨  
**ğŸ‘¨â€ğŸ’» éš¾åº¦**: å¾ˆé«˜

#### å¾…å®ç°åŠŸèƒ½
- [ ] **æ’ä»¶æ¶æ„**
  - æ’ä»¶æ¥å£å®šä¹‰
  - åŠ¨æ€æ’ä»¶åŠ è½½
  - æ’ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†
  - æ’ä»¶å•†åº—

- [ ] **ç¬¬ä¸‰æ–¹é›†æˆ**
  - é“¶è¡ŒAPIæ¥å…¥
  - æ”¯ä»˜å®/å¾®ä¿¡æ•°æ®åŒæ­¥
  - ä¿¡ç”¨å¡è´¦å•å¯¼å…¥
  - æŠ•èµ„è´¦æˆ·é›†æˆ

- [ ] **è‡ªåŠ¨åŒ–è§„åˆ™**
  - åŸºäºè§„åˆ™çš„è‡ªåŠ¨è®°è´¦
  - å®šæœŸäº¤æ˜“è‡ªåŠ¨åˆ›å»º
  - æ™ºèƒ½åˆ†ç±»è§„åˆ™
  - æé†’è§„åˆ™è®¾ç½®

---

## ğŸ› ï¸ æŠ€æœ¯å€ºåŠ¡å¤„ç†

### æ€§èƒ½ä¼˜åŒ–
- [ ] **å¤§æ•°æ®å¤„ç†ä¼˜åŒ–** (1-2å‘¨)
  - è™šæ‹Ÿåˆ—è¡¨å®ç°
  - æ•°æ®åˆ†é¡µåŠ è½½
  - å†…å­˜ä¼˜åŒ–
  - æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–

- [ ] **åŠ¨ç”»æ€§èƒ½ä¼˜åŒ–** (1å‘¨)
  - å‡å°‘ä¸å¿…è¦çš„é‡ç»˜
  - åŠ¨ç”»æ§åˆ¶å™¨ä¼˜åŒ–
  - å¸§ç‡ç›‘æ§
  - å¡é¡¿åˆ†æ

### ä»£ç é‡æ„
- [ ] **çŠ¶æ€ç®¡ç†å‡çº§** (2-3å‘¨)
  - è€ƒè™‘è¿ç§»åˆ°Riverpod
  - çŠ¶æ€æŒä¹…åŒ–
  - é”™è¯¯çŠ¶æ€å¤„ç†
  - åŠ è½½çŠ¶æ€ç®¡ç†

- [ ] **æ¶æ„ä¼˜åŒ–** (2-3å‘¨)
  - Repositoryæ¨¡å¼å®ç°
  - ä¾èµ–æ³¨å…¥æ¡†æ¶
  - æœåŠ¡å®šä½å™¨
  - æ¨¡å—åŒ–æ¶æ„

### æµ‹è¯•è¦†ç›–
- [ ] **å•å…ƒæµ‹è¯•** (2-3å‘¨)
  - ä¸šåŠ¡é€»è¾‘æµ‹è¯•
  - æ•°æ®æ¨¡å‹æµ‹è¯•
  - æœåŠ¡ç±»æµ‹è¯•
  - å·¥å…·å‡½æ•°æµ‹è¯•

- [ ] **é›†æˆæµ‹è¯•** (1-2å‘¨)
  - ç”¨æˆ·æµç¨‹æµ‹è¯•
  - APIé›†æˆæµ‹è¯•
  - æ•°æ®åº“æ“ä½œæµ‹è¯•
  - è·¨å¹³å°æµ‹è¯•

---

## ğŸ“± å¹³å°æ‰©å±•è®¡åˆ’

### iOSç‰ˆæœ¬å¼€å‘
**â±ï¸ é¢„ä¼°**: 4-6å‘¨  
**ğŸ‘¨â€ğŸ’» éš¾åº¦**: ä¸­é«˜

#### ä¸»è¦å·¥ä½œ
- [ ] iOSå¹³å°é€‚é…å’Œä¼˜åŒ–
- [ ] App Storeä¸Šæ¶å‡†å¤‡
- [ ] iOSç‰¹æœ‰åŠŸèƒ½é›†æˆ (Face ID/Touch ID)
- [ ] Apple Payé›†æˆ (å¯é€‰)

### Androidç‰ˆæœ¬ä¼˜åŒ–
**â±ï¸ é¢„ä¼°**: 2-3å‘¨  
**ğŸ‘¨â€ğŸ’» éš¾åº¦**: ä¸­ç­‰

#### ä¸»è¦å·¥ä½œ
- [ ] Androidå¹³å°æ·±åº¦ä¼˜åŒ–
- [ ] Google Playä¸Šæ¶
- [ ] Androidç‰¹æœ‰åŠŸèƒ½é›†æˆ
- [ ] Material Youé€‚é…

### æ¡Œé¢ç‰ˆæœ¬å¼€å‘
**â±ï¸ é¢„ä¼°**: 3-4å‘¨  
**ğŸ‘¨â€ğŸ’» éš¾åº¦**: ä¸­ç­‰

#### ä¸»è¦å·¥ä½œ
- [ ] Windows/macOS/Linuxé€‚é…
- [ ] æ¡Œé¢ç«¯UIä¼˜åŒ–
- [ ] æ–‡ä»¶ç³»ç»Ÿé›†æˆ
- [ ] ç³»ç»Ÿé€šçŸ¥é›†æˆ

---

## ğŸ¯ å¼€å‘ä¼˜å…ˆçº§å»ºè®®

### ç¬¬ä¸€é˜¶æ®µ (å‰1-2ä¸ªæœˆ)
**ä¸“æ³¨ç”¨æˆ·ä½“éªŒæ ¸å¿ƒåŠŸèƒ½**
1. ç½å¤´è¯¦æƒ…é¡µé¢å¢å¼º â­â­â­â­â­
2. é«˜çº§æ•°æ®ç»Ÿè®¡å›¾è¡¨ â­â­â­â­
3. åˆ†ç±»ç®¡ç†ç³»ç»Ÿ â­â­â­â­

### ç¬¬äºŒé˜¶æ®µ (2-4ä¸ªæœˆ)
**æ„å»ºå•†ä¸šåŒ–åŸºç¡€**
1. äº‘ç«¯æ•°æ®åŒæ­¥ â­â­â­â­â­
2. é«˜çº§è®¾ç½®åŠŸèƒ½ â­â­â­
3. æ•°æ®å¯¼å…¥å¯¼å‡º â­â­â­

### ç¬¬ä¸‰é˜¶æ®µ (4-6ä¸ªæœˆ)
**å·®å¼‚åŒ–ç«äº‰ä¼˜åŠ¿**
1. AIæ™ºèƒ½åŠŸèƒ½ â­â­â­â­
2. ç¤¾äº¤åˆ†äº«åŠŸèƒ½ â­â­â­
3. iOSç‰ˆæœ¬å¼€å‘ â­â­â­â­â­

### ç¬¬å››é˜¶æ®µ (6ä¸ªæœˆ+)
**ç”Ÿæ€ç³»ç»Ÿå»ºè®¾**
1. æ‰©å±•æ’ä»¶ç³»ç»Ÿ â­â­â­
2. ä¼ä¸šç‰ˆæœ¬å¼€å‘ â­â­â­â­
3. å¼€æ”¾APIå¹³å° â­â­â­

---

## ğŸ§° å¼€å‘èµ„æºå’Œå·¥å…·

### æ¨èå¼€å‘å·¥å…·
- **IDE**: Android Studio / VS Code + Flutteræ’ä»¶
- **è®¾è®¡**: Figma (UIè®¾è®¡) / Adobe XD
- **ç‰ˆæœ¬æ§åˆ¶**: Git + GitHub
- **é¡¹ç›®ç®¡ç†**: GitHub Issues / Notion / Trello
- **APIæµ‹è¯•**: Postman / Insomnia
- **æ•°æ®åº“**: DB Browser for SQLite

### å­¦ä¹ èµ„æº
- **Flutterå®˜æ–¹æ–‡æ¡£**: https://flutter.dev/docs
- **Dartè¯­è¨€æŒ‡å—**: https://dart.dev/guides
- **Firebaseæ–‡æ¡£**: https://firebase.google.com/docs
- **Material Design**: https://material.io/design
- **Flutterç¤¾åŒº**: https://flutter.cn

### ç¬¬ä¸‰æ–¹æœåŠ¡æ¨è
- **äº‘æœåŠ¡**: Firebase / Supabase / AWS Amplify
- **åˆ†æ**: Google Analytics / Mixpanel
- **å´©æºƒç›‘æ§**: Crashlytics / Sentry
- **æ€§èƒ½ç›‘æ§**: Firebase Performance
- **A/Bæµ‹è¯•**: Firebase Remote Config

---

## ğŸ“Š å·¥ä½œé‡è¯„ä¼°

### æ€»ä½“è¯„ä¼°
| ä¼˜å…ˆçº§ | åŠŸèƒ½æ•°é‡ | é¢„ä¼°å·¥æ—¶ | å»ºè®®å›¢é˜Ÿè§„æ¨¡ |
|--------|----------|----------|--------------|
| P0 | 3ä¸ªæ ¸å¿ƒåŠŸèƒ½ | 6-8å‘¨ | 1-2åå¼€å‘è€… |
| P1 | 3ä¸ªé‡è¦åŠŸèƒ½ | 8-12å‘¨ | 2-3åå¼€å‘è€… |
| P2 | 3ä¸ªåˆ›æ–°åŠŸèƒ½ | 12-18å‘¨ | 3-4åå¼€å‘è€… |
| æŠ€æœ¯å€ºåŠ¡ | ä»£ç ä¼˜åŒ– | 4-6å‘¨ | 1-2åå¼€å‘è€… |
| å¹³å°æ‰©å±• | iOS/Android | 6-10å‘¨ | 2-3åå¼€å‘è€… |

### å›¢é˜Ÿé…ç½®å»ºè®®
- **æŠ€æœ¯è´Ÿè´£äºº** 1å: æ¶æ„è®¾è®¡ã€æŠ€æœ¯é€‰å‹ã€ä»£ç å®¡æŸ¥
- **å‰ç«¯å¼€å‘** 1-2å: UIå®ç°ã€äº¤äº’é€»è¾‘ã€ç”¨æˆ·ä½“éªŒ
- **åç«¯å¼€å‘** 1å: æ•°æ®åŒæ­¥ã€APIè®¾è®¡ã€æœåŠ¡ç«¯é€»è¾‘
- **UI/UXè®¾è®¡å¸ˆ** 1å: ç•Œé¢è®¾è®¡ã€äº¤äº’è®¾è®¡ã€ç”¨æˆ·ä½“éªŒ
- **äº§å“ç»ç†** 1å: éœ€æ±‚åˆ†æã€ä¼˜å…ˆçº§ç®¡ç†ã€ç”¨æˆ·åé¦ˆ

---

## ğŸ¯ æˆåŠŸæŒ‡æ ‡ (KPI)

### æŠ€æœ¯æŒ‡æ ‡
- **ä»£ç è´¨é‡**: æµ‹è¯•è¦†ç›–ç‡ > 80%
- **æ€§èƒ½æŒ‡æ ‡**: å¯åŠ¨æ—¶é—´ < 3ç§’ï¼Œæ“ä½œå“åº” < 200ms
- **ç¨³å®šæ€§**: å´©æºƒç‡ < 0.1%
- **å…¼å®¹æ€§**: æ”¯æŒ 95% ç›®æ ‡è®¾å¤‡

### äº§å“æŒ‡æ ‡
- **ç”¨æˆ·ä½“éªŒ**: ç”¨æˆ·æ»¡æ„åº¦ > 4.5/5
- **åŠŸèƒ½å®Œæ•´æ€§**: æ ¸å¿ƒç”¨æˆ·æµç¨‹ 100% å¯ç”¨
- **æ•°æ®å‡†ç¡®æ€§**: ç»Ÿè®¡è®¡ç®—é”™è¯¯ç‡ < 0.01%
- **åŒæ­¥å¯é æ€§**: æ•°æ®åŒæ­¥æˆåŠŸç‡ > 99.9%

### å•†ä¸šæŒ‡æ ‡
- **ç”¨æˆ·å¢é•¿**: æœˆæ´»ç”¨æˆ·å¢é•¿ç‡ > 20%
- **ç”¨æˆ·ç•™å­˜**: 7æ—¥ç•™å­˜ç‡ > 50%
- **ä»˜è´¹è½¬åŒ–**: å…è´¹åˆ°ä»˜è´¹è½¬åŒ–ç‡ > 15%
- **æ”¶å…¥å¢é•¿**: æœˆæ”¶å…¥å¢é•¿ç‡ > 30%

---

## ğŸš€ å¿«é€Ÿå¼€å§‹æŒ‡å—

### æ–°å¼€å‘è€…æ¥æ‰‹æ­¥éª¤

1. **ç¯å¢ƒæ­å»º** (1-2å¤©)
   ```bash
   # å…‹éš†é¡¹ç›®
   git clone https://github.com/BrunonXU/MoneyJars.git
   
   # å®‰è£…ä¾èµ–
   flutter pub get
   
   # è®¾ç½®Webæ•°æ®åº“
   dart run sqflite_common_ffi_web:setup
   
   # è¿è¡Œé¡¹ç›®
   flutter run -d chrome
   ```

2. **ä»£ç ç†Ÿæ‚‰** (3-5å¤©)
   - é˜…è¯» `MoneyJars_PRD_v1.0.md`
   - æŸ¥çœ‹æ ¸å¿ƒç»„ä»¶å®ç°
   - ç†è§£æ•°æ®æµå’ŒçŠ¶æ€ç®¡ç†
   - è¿è¡Œå¹¶æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

3. **é€‰æ‹©ç¬¬ä¸€ä¸ªä»»åŠ¡** (1å‘¨)
   - å»ºè®®ä»"ç½å¤´è¯¦æƒ…é¡µé¢å¢å¼º"å¼€å§‹
   - åˆ›å»ºåŠŸèƒ½åˆ†æ”¯è¿›è¡Œå¼€å‘
   - éµå¾ªç°æœ‰ä»£ç è§„èŒƒå’Œæ³¨é‡Šé£æ ¼

4. **å¼€å‘æµç¨‹**
   - åŠŸèƒ½è®¾è®¡ â†’ æŠ€æœ¯è®¾è®¡ â†’ ç¼–ç å®ç° â†’ æµ‹è¯•éªŒè¯ â†’ ä»£ç å®¡æŸ¥ â†’ éƒ¨ç½²å‘å¸ƒ

### ç´§æ€¥è”ç³»
å¦‚æœ‰æŠ€æœ¯é—®é¢˜æˆ–ç§»äº¤ç–‘é—®ï¼Œè¯·è”ç³»åŸå¼€å‘è€…ï¼š
- **GitHub**: https://github.com/BrunonXU
- **é¡¹ç›®ä»“åº“**: https://github.com/BrunonXU/MoneyJars

---

*æœ¬å¼€å‘è·¯çº¿å›¾ä¸ºMoneyJarsé¡¹ç›®çš„å®Œæ•´å¾…åŠæ¸…å•ï¼ŒæŒ‰ä¼˜å…ˆçº§å’Œå¤æ‚åº¦è¿›è¡Œäº†è¯¦ç»†è§„åˆ’ã€‚å»ºè®®æ–°å¼€å‘å›¢é˜ŸæŒ‰ç…§æ­¤è·¯çº¿å›¾è¿›è¡Œæœ‰åºå¼€å‘ï¼Œç¡®ä¿äº§å“è´¨é‡å’Œç”¨æˆ·ä½“éªŒã€‚*

**æ–‡æ¡£ç‰ˆæœ¬**: TODO v1.0  
**æœ€åæ›´æ–°**: 2025å¹´1æœˆ14æ—¥  
**Â© 2025 BrunonXU. All rights reserved.** 