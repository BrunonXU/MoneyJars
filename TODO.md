# MoneyJars 项目待办事项

## ✅ 已完成的工作（2025-01-23）
- ✅ 架构重组：删除了79个未被引用的新架构文件
- ✅ 文件结构规范化：screens → pages，统一命名规范  
- ✅ 修复所有import路径问题，应用可以正常运行
- ✅ 清理13个过期的架构迁移文档
- ✅ 删除无效的test/core测试目录
- ✅ 更新README.md和所有项目文档
- ✅ 设计高级配色方案 premium_color_scheme.dart
- ✅ 罐头详情页 - 添加AppBar和导航
- ✅ 罐头详情页 - 优化时间列表UI（高级卡片设计）
- ✅ 罐头详情页 - 添加视图切换按钮
- ✅ 罐头详情页 - 实现搜索功能

## 🎯 当前待办事项（按优先级排序）

### 🔴 高优先级 - 正在进行（今天）

#### 1. 罐头详情页剩余功能
- [ ] **饼状图视图** - 实现交互式分类饼图
- [ ] **时间折线图** - 实现趋势分析图表
- [ ] **批量操作** - 完善多选和批量删除
- [ ] **高级筛选** - 实现筛选弹窗

#### 2. 全局UI升级 - 高级配色方案
- [ ] **应用新配色到主页** - 更新罐头颜色为深酒红/深森林绿
- [ ] **更新背景系统** - 应用高级黑背景
- [ ] **更新所有页面主题** - 统一使用PremiumTheme

#### 3. UI问题修复
- [ ] **修复帮助页面RenderFlex溢出** - help_page.dart:62行
- [ ] **修复搜索栏布局** - 详情页搜索栏需要优化

### 🟡 中优先级 - 本周内完成

#### 4. 空安全和代码质量
- [ ] 修复JarDetailPage中的空安全警告
- [ ] 清理废弃的旧版jar_detail_page.dart
- [ ] 重构过长的代码文件
- [ ] 添加代码注释

#### 5. 数据管理功能
- [ ] **数据导出** - 实现CSV/JSON导出功能
- [ ] **备份恢复** - 本地数据备份机制
- [ ] **分类管理** - 添加/编辑/删除自定义分类
- [ ] **分类图标** - 为每个分类配置图标

#### 6. 性能优化
- [ ] 列表虚拟滚动
- [ ] 图表数据缓存
- [ ] 减少Widget重建

### 🟢 低优先级 - 长期优化（一个月内）

#### 7. 测试体系
- [ ] 单元测试覆盖核心逻辑
- [ ] Widget测试
- [ ] 集成测试

#### 8. 国际化和辅助功能
- [ ] 完善中英文翻译
- [ ] 添加无障碍支持
- [ ] 高对比度主题

#### 9. 高级功能
- [ ] 预算管理系统
- [ ] 定期账单提醒
- [ ] 数据趋势预测
- [ ] 多账户支持

## 📊 进度统计
- **已完成**: 架构重组 ✅、配色设计 ✅、详情页基础 ✅
- **进行中**: 详情页图表功能 🎨、全局配色应用 🎨
- **待开始**: 数据管理功能 📋
- **总体进度**: 55%

## 🎨 已实现的设计特点

### 罐头详情页新设计
- ✅ **高级AppBar** - 浮动式设计，支持搜索和视图切换
- ✅ **智能分析卡片** - 显示本期总额、对比上期、交易笔数
- ✅ **三视图模式** - 饼图/列表/趋势（框架已完成）
- ✅ **高级搜索** - 实时搜索，支持描述和金额
- ✅ **批量操作** - 长按进入多选模式
- ✅ **Material Design 3** - 大圆角、精致阴影

### 高级配色方案
- **深酒红** `#722F37` - 收入罐头
- **深森林绿** `#1B4332` - 支出罐头  
- **奢华金** `#D4AF37` - 成就/盈余
- **高级黑** `#0A0E0F` - 主背景
- **深炭灰** `#1A1D1E` - 卡片背景

## 💡 下一步计划
1. 完成饼状图视图的实现
2. 实现时间折线图功能
3. 将新配色应用到主页罐头
4. 修复帮助页面的UI问题

---
**最后更新**: 2025-01-23 21:45
**当前重点**: 完成罐头详情页的图表功能
**已用时间**: 约35分钟