# MoneyJars 项目待办事项

## ✅ 已完成的工作（2025-01-23）
- ✅ 架构重组：删除了79个未被引用的新架构文件
- ✅ 文件结构规范化：screens → pages，统一命名规范  
- ✅ 修复所有import路径问题，应用可以正常运行
- ✅ 清理13个过期的架构迁移文档
- ✅ 删除无效的test/core测试目录
- ✅ 更新README.md和所有项目文档

## 🎯 当前待办事项（按优先级排序）

### 🔴 高优先级 - 罐头详情页重设计（本周内）

#### 1. 罐头详情页核心功能
- [ ] **添加AppBar** - 包含返回按钮、标题、操作区
- [ ] **饼状图视图** - 交互式分类展示，支持点击查看子类
- [ ] **优化列表视图** - 按日期分组、滑动操作、Material Design风格
- [ ] **时间折线图** - 支持时间范围选择（周/月/季/年）、左右滑动
- [ ] **视图切换按钮** - 右上角三个按钮切换视图模式
- [ ] **搜索功能** - 支持描述和金额搜索，实时搜索建议

#### 2. 罐头详情页增强功能
- [ ] **高级筛选** - 金额范围、日期范围、多分类选择
- [ ] **批量操作** - 长按进入多选模式，批量删除/导出
- [ ] **智能分析卡片** - 显示对比数据、预算进度
- [ ] **手势交互** - 下拉刷新、横滑切换视图
- [ ] **动画效果** - 视图切换动画、数据加载动画
- [ ] **空状态设计** - 无数据时的友好提示

#### 3. UI问题修复
- [ ] **修复帮助页面RenderFlex溢出** - help_page.dart:62行
- [ ] 检查所有页面响应式布局
- [ ] 统一颜色主题和间距

### 🟡 中优先级 - 功能完善（两周内）

#### 4. 空安全和代码质量
- [ ] 修复JarDetailPage中的空安全警告
- [ ] 修复TransactionProvider空安全问题
- [ ] 重构过长的代码文件
- [ ] 添加代码注释

#### 5. 数据管理功能
- [ ] **数据导出** - 支持CSV/JSON格式导出
- [ ] **备份恢复** - 本地数据备份机制
- [ ] **分类管理** - 添加/编辑/删除自定义分类
- [ ] **标签系统** - 为交易添加自定义标签

#### 6. 性能优化
- [ ] 列表虚拟滚动
- [ ] 图表数据缓存
- [ ] 图片资源压缩
- [ ] 减少Widget重建

### 🟢 低优先级 - 长期优化（一个月内）

#### 7. 测试体系
- [ ] 单元测试覆盖核心逻辑
- [ ] Widget测试
- [ ] 集成测试
- [ ] 性能测试

#### 8. 国际化和辅助功能
- [ ] 完善中英文翻译
- [ ] 添加无障碍支持
- [ ] 支持大字体模式
- [ ] 高对比度主题

#### 9. 高级功能
- [ ] 预算管理系统
- [ ] 定期账单提醒
- [ ] 数据趋势预测
- [ ] 多账户支持

## 📊 进度统计
- **已完成**: 架构重组 ✅
- **进行中**: 罐头详情页设计 🎨
- **待开始**: 功能完善 📋
- **总体进度**: 40%

## 🎨 设计规范
- 遵循 Google Material Design 3
- 保持莫兰蒂配色风格
- 动画时长：600ms（统一）
- 圆角半径：12dp（卡片）、8dp（按钮）

---
**最后更新**: 2025-01-23 20:50
**当前重点**: 罐头详情页UI重设计
**下一步**: 实现AppBar和基础导航结构